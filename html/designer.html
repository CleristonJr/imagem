<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OS DESIGNER</title>
    <link rel="stylesheet" href="..\css\style.css">
</head>

<!--

    FLUXO DE FUNCIONAMENTO

1 - Criar OS no sistema com o c'odigo da OS e as informacoes e arquivos necessarios
2 - Enviar para o setor responsavel (Designer, plotter ou laser)
3 - Ao chegar no setor responsavel o setor tem que abrir a OS e quando for iniciar o trabalho com ela clicar em um botao 'iniciar'
4 - Ao fazer o servico, informar se quer enviar para o proximo setor, devolver para o setor anterior ou finalizar a OS
5 - Ao finalizar a OS ela vai para a lista de finalisadas, mas tem um botao que pode ser reaberta informando o codigo do setor

-->

<!--
    ITENS DE CADA PAGINA

1 - PAGINA INICIAL
a. 
-->

<body>

    <header>

        <ul class="paginasBarras">
            <li class="paginasBarra"> <a href="../index.html">Criar OS</a> </li>
            <li class="paginasBarra"> <a href="plotter.html">Plotter</a> </li>
            <li class="paginasBarra"> <a href="laser.html">Laser</a> </li>
            <li class="paginasBarra"> <a href="finalizadas.html">Finalizadas</a></li>
        </ul>

    </header>
    <main>
        <section class="listasServicosSetores">
            
            <h2>Plotter</h2>
            <ol id="listaPlotter"></ol>
            <h3>Laser</h3>
            <ol id="listaLaser"></ol>
        </section>
        <section id="minhasOS">
            <img id="imagemLogoCriar" src="E:\Users\A10\Documents\wetransfer-330b80\LogoFotoImagem.png" alt="Logo da Imagem">
            
            <div id="areaCodigoOSCriar">
                <h1>Designer</h1>
            <ol id="listaDesigner"></ol>
            </div>
            
            <button id="botaoCriar">Criar OS</button>
        </section>
    </main>
<script src="./script.js"></script>
<script>
    function listFilesDesigner(){
        fetch('/list-files-Designer')
            .then(response => response.json())
            .then(files => {
                const fileList = document.getElementById('listaDesigner');
                fileList.innerHTML = '';
                files.forEach(file => {
                    const listItem = document.createElement('li');
                    const fileName = file.split('.').slice(0, -1).join('.'); // Remove a extensão do arquivo
                    listItem.textContent = fileName;
                    fileList.appendChild(listItem);
                });
            })
    }
    function listFilesPlotter(){
        fetch('/list-files-Plotter')
            .then(response => response.json())
            .then(files => {
                const fileList = document.getElementById('listaPlotter');
                fileList.innerHTML = '';
                files.forEach(file => {
                    const listItem = document.createElement('li');
                    const fileName = file.split('.').slice(0, -1).join('.'); // Remove a extensão do arquivo
                    listItem.textContent = fileName;
                    fileList.appendChild(listItem);
                    
                });
            })
    }
    function listFilesLaser(){
        fetch('/list-files-Laser')
            .then(response => response.json())
            .then(files => {
                const fileList = document.getElementById('listaLaser');
                fileList.innerHTML = '';
                files.forEach(file => {
                    const listItem = document.createElement('li');
                    const fileName = file.split('.').slice(0, -1).join('.'); // Remove a extensão do arquivo
                    listItem.textContent = fileName;
                    fileList.appendChild(listItem);
                    
                });
            })
    }
    listFilesDesigner();
    listFilesPlotter()
    listFilesLaser()
</script>


</body>
</html>